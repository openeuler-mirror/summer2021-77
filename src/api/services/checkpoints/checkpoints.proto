syntax = "proto3";
option optimize_for = CODE_SIZE;

package checkpoint;

service CheckPointService {
	rpc List(ListCheckPointRequest) returns (ListCheckPointResponse);

	rpc Remove(RemoveCheckPointRequest) returns (RemoveCheckPointResponse);

	rpc Create(CreateCheckPointRequest) returns (CreateCheckPointResponse);
}

message CheckPoint {
	string driver = 1;
	string name = 2;
}

message ListCheckPointRequest {
}

message ListCheckPointResponse {
	repeated CheckPoint checkpoints = 1;
	uint32 cc = 2;
	string errmsg = 3;
}

message RemoveCheckPointRequest {
	string name = 1;
}

message RemoveCheckPointResponse {
	uint32 cc = 1;
	string errmsg = 2;
}

message CreateCheckPointRequest {
}

message CreateCheckPointResponse {
	repeated string volumes = 2;
	uint32 cc = 3;
	string errmsg = 4;
}
